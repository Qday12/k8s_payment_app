---
apiVersion: v1
kind: ConfigMap
metadata:
  name: payment-api-config
  namespace: finpay-prod
  labels:
    app.kubernetes.io/name: payment-api
    app.kubernetes.io/instance: finpay-prod
    app.kubernetes.io/component: api
    app.kubernetes.io/managed-by: kubectl
data:
  # Worker service URL (internal K8s DNS)
  PAYMENT_WORKER_BASE_URL: "http://payment-worker.finpay-prod.svc.cluster.local:8090"
  # JVM configuration for containerized environments
  JAVA_OPTS: "-XX:+UseContainerSupport -XX:MaxRAMPercentage=75.0 -XX:+ExitOnOutOfMemoryError -Djava.security.egd=file:/dev/./urandom"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: payment-worker-config
  namespace: finpay-prod
  labels:
    app.kubernetes.io/name: payment-worker
    app.kubernetes.io/instance: finpay-prod
    app.kubernetes.io/component: worker
    app.kubernetes.io/managed-by: kubectl
data:
  # API service URL for callbacks (internal K8s DNS)
  PAYMENT_API_BASE_URL: "http://payment-api.finpay-prod.svc.cluster.local:8080"
  # Worker port
  PAYMENT_WORKER_PORT: "8090"
  # Simulated CPU processing time in milliseconds
  WORKER_CPU_LOAD_MS: "300"
  # JVM configuration for containerized environments
  JAVA_OPTS: "-XX:+UseContainerSupport -XX:MaxRAMPercentage=75.0 -XX:+ExitOnOutOfMemoryError -Djava.security.egd=file:/dev/./urandom"
